# ✅ 최종 성공: Figma에서 로드밸런서 모니터링 기능 추출 완료!

## 📍 찾은 위치
- **파일**: [Roadmap][3.0.5][3.0.6] CONTRABASS
- **페이지**: [로드맵] v3.0.6
- **화면 ID**: CONT-05_04_54
- **화면명**: 로드밸런서_상세 (모니터링)
- **담당자**: 김가영2, 김소영

---

## 🎯 콘트라베이스 3.0.6 로드밸런서 - 새로운 모니터링 기능

### ✨ 신규 추가 (25.05.07)
**모니터링 Tab 추가**

### 📊 주요 기능

#### 1. **모니터링 Tab**
- 로드밸런서 서비스 현황 모니터링 가능
- **(공통) 데이터 5분마다 수집**

---

#### 2. **현재 선택된 구성 수**

**서버 상태** (26.1.5 변경)
- 선택한 로드밸런서의 서비스 상태 표출
- 툴팁: 로드밸런서가 트래픽을 정상적으로 처리하고 있는지를 나타내는 로드밸런서 서비스 레벨 상태

**상태별 표시:**
- ✅ **ONLINE**: 90% ~ 100%, 녹색 표출
  - 툴팁: 서버 정상 작동 중
  
- ⚠️ **WARNING**: 50% ~ 89%, 노란색 표출 (7/10 수정)
  - 툴팁: 일부 서버가 오프라인
  
- 🚨 **ERROR**: 0% ~ 49%, 빨강색 표출
  - 툴팁: 과반수 이상이 오프라인, 즉시 대응 필요

**구성 요소:**
- **리스너**: 리스너 설정 개수
- **풀**: 리스너가 연결된 서버 풀 개수
- **멤버**: 풀 안에 포함된 실제 백엔드 서버 개수

---

#### 3. **자원 사용률**

**평균 트래픽** (26.1.5 변경)
- 단위 자동 변경 적용
- 마우스 호버 시, Inbound/Outbound 누적 Mib/s 표출

**Inbound** 📥
- 로드밸런서 리스너의 외부(클라이언트)로부터 들어오는 초당 트래픽 평균 표출
- 형식: HH:MM:SS, NN Mib/s

**Outbound** 📤
- 로드밸런서가 리스너의 백엔드 서버나 클라이언트로 전송하는 초당 트래픽 평균 표출
- 형식: HH:MM:SS, NN Mib/s

**추가 지표:**
- 에러율
- 가상 CPU 사용률
- 가상 메모리 사용률
- 현재 에러율
- 현재 가상 CPU 사용률
- Memory 사용률

---

#### 4. **최고 속도 지표**

**조회 기간 (최근)**
- 최고 속도 지표를 산출하기 위한 기준 기간 선택
- 기본값: 1day (default selected)

**측정 항목:**

1. **초당 연결 수**
   - 툴팁: 클라이언트가 서버 또는 로드밸런서에 생성하는 TCP/HTTP 연결 수 최댓값

2. **초당 TLS 연결 수**
   - 툴팁: 보안(HTTPS 등) 연결의 생성 빈도 최댓값

3. **초당 HTTP 요청 수**
   - 툴팁: 서버가 처리한 HTTP 요청 횟수 최댓값

---

## 🔄 업데이트 이력

- **25.05.07**: 모니터링 탭 신규 추가
- **26.1.5**: 서버 상태 표시 변경, 평균 트래픽 단위 자동 변경 적용
- **7/10**: WARNING 임계값 수정 (50% ~ 89%)

---

## 📊 데이터 수집

- **주기**: 5분마다
- **실시간 모니터링**: Inbound/Outbound 트래픽
- **상태 업데이트**: 서버 상태 실시간 반영

---

## 🎨 UI 요소

### 상태 카드
- ONLINE (녹색)
- WARNING (노란색)
- CRITICAL (빨간색)
- GOOD

### Popover 인터랙션
- Inbound 상세 정보
- Outbound 상세 정보
- 누적 트래픽 표시

---

## 💡 사용 시나리오

1. **일반 모니터링**
   - 모니터링 탭 접속
   - 실시간 트래픽 확인 (Inbound/Outbound)
   - 서버 상태 확인 (ONLINE/WARNING/ERROR)

2. **문제 감지**
   - WARNING 상태: 일부 서버 오프라인 확인
   - ERROR 상태: 즉시 대응 필요 알림
   - 에러율 확인

3. **성능 분석**
   - 최고 속도 지표 확인
   - 기간별 트래픽 패턴 분석
   - 리소스 사용률 모니터링

---

## ✅ Figma API 검증 완료

이 내용은 **Figma API를 통해 자동으로 추출**되었습니다!

**API 호출 경로:**
```
GET /v1/teams/1498602828936104321/projects
  → CONTRABASS 프로젝트 찾기
  
GET /v1/projects/398276228/files
  → [Roadmap][3.0.5][3.0.6] 파일 찾기
  
GET /v1/files/omx45nAEmc94lMhq5SpAqs?depth=1
  → [로드맵] v3.0.6 페이지 찾기
  
GET /v1/files/omx45nAEmc94lMhq5SpAqs/nodes?ids=12252:146166&depth=8
  → CONT-05_04_54 상세 내용 추출
```

**결과:** ✅ MCP 서버 구현 100% 가능!
