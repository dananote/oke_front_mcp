# PLAN

---

## STEP 1 - Figma(완료/고도화)

- [x] 화면 ID 직접 검색
- [x] 자연어 검색(프로젝트/버전/키워드)
- [x] 버전 미지정 자동확정 차단
- [x] 번호 선택 UX 및 문장형 파싱
- [x] fallback 검색 + 자동 학습 저장
- [x] 경량 수집 + lazy loading
- [x] 재수집 merge/backup 안정화
- [ ] 의도 화면 추론 품질 고도화(동의어/문맥)

---

## STEP 2 - Publisher(진행 중)

- [x] 퍼블 검색 tool 뼈대(`search_publisher_code`) 구현
- [x] 하이브리드 repo 동기화(auto clone/pull + fallback path) 구현
- [x] `publisher-index.json` 인덱스 모델 및 생성 로직 구현
- [x] component bundle 응답(main/script/style/shared) 구현
- [ ] 퍼블 화면-컴포넌트 매핑 정확도 개선
- [ ] 증분 인덱싱/갱신 주기 최적화
- [ ] 퍼블 검색 결과의 후속 액션 UX(선택/상세보기) 고도화

---

## STEP 3 - Design System

- [ ] Confluence 접근 방식 확정(API/Export)
- [ ] Space/권한 정책 정리
- [ ] 디자인 정책 인덱싱 모델 설계
- [ ] Ant Design Vue 가이드 연결
- [ ] 정책 검색 tool 구현

---

## STEP 4 - 통합 응답

- [ ] Figma + Publisher + Design 정책 통합 응답
- [ ] 구현 체크리스트 자동 생성
- [ ] QA 검증 항목 자동 추천

---

## STEP 5 - 운영/품질

- [ ] 설치/업데이트 표준화
- [ ] 질의 품질 지표 수집
- [ ] 회귀 테스트 시나리오 자동화
- [ ] 장애 대응 런북 강화

---

## 현재 우선순위

1. Step2 퍼블 매핑 정확도 개선
2. Step2 검색 UX 보강
3. Step3 접근 권한/범위 확정

# PLAN

프로젝트의 단계별 계획과 완료 상태를 관리하는 문서입니다.  
한 줄 체크리스트를 유지하되, 각 Step의 의도와 다음 우선순위를 함께 기록합니다.

---

## STEP 1 - Figma(기획)

목표: 자연어 질의만으로 화면 기획 탐색/확정/학습까지 완성

- [x] 화면 ID 직접 검색 구현
- [x] 자연어 검색(프로젝트/버전/키워드) 구현
- [x] 프로젝트/버전 감지 로직 구현
- [x] 버전 미지정 시 자동확정 차단
- [x] 다건 후보 제시 UX 구현
- [x] 번호 선택 인터랙션(`1`, `2번`) 구현
- [x] 문장형 번호 선택(`3 번기획`) 파싱 강화
- [x] 동일 화면 다중 버전 우선 선택 흐름 구현
- [x] description lazy loading 구현
- [x] description 저장 보장(update -> add fallback)
- [x] metadata 미스 시 Figma fallback 검색 구현
- [x] fallback 결과 자동 학습 저장 구현
- [x] 경량 수집 전략 적용
- [x] 재수집 merge + backup 안정화
- [x] `Request too large` depth 재시도 구현
- [x] 인덱스 저장 경로 안정화(cwd 의존 완화)
- [ ] 의도 화면 우선 추론(동의어/문맥) 고도화
- [ ] 후보 추천 근거 문장 자동 생성

---

## STEP 2 - Publisher

목표: 기획 질의에서 퍼블리셔 코드까지 연결

- [ ] 퍼블 저장소 접근 권한 확인(SSH/계정)
- [ ] 저장소 구조 인벤토리 작성
- [ ] 화면/메뉴 키워드 기반 코드 검색 구현
- [ ] 기획 화면 ↔ 퍼블 파일 매핑 규칙 정의
- [ ] 퍼블 검색 Tool 설계/구현
- [ ] 퍼블 변경 주기 동기화 정책 수립

---

## STEP 3 - Design System

목표: 정책/컴포넌트 가이드까지 질의 응답 통합

- [ ] Confluence 접근 방식 확정(API/Export)
- [ ] Space 범위 및 권한 정책 정리
- [ ] 디자인 정책 검색 인덱스 구축
- [ ] Ant Design Vue 가이드 연결
- [ ] 디자인 정책 검색 Tool 구
- [ ] 소스 간 정책 충돌 탐지 규칙 설계

---

## STEP 4 - 통합 응답 고도화

목표: "기획 + 퍼블 + 정책" 한 번에 설명

- [ ] 다중 소스 결과 병합 포맷 정의
- [ ] 구현 체크리스트 자동 생성
- [ ] QA 검증 항목 자동 추천
- [ ] 답변 신뢰도/근거 표기 정책 설계

---

## STEP 5 - 운영/품질/배포

목표: 팀 단위 운영 안정화

- [ ] 설치/업데이트 표준 프로세스 확정
- [ ] 질의 성공률/재질문율 지표 수집
- [ ] 회귀 테스트 자동화 시나리오 구축
- [ ] 장애 대응 런북 표준화
- [ ] 온보딩/발표 자료용 요약 템플릿 제공

---

## 현재 우선순위

1. Step 1 남은 정합성 개선(의도 추론/후보 근거)
2. Step 2 착수 전 퍼블 저장소 접근성 확정
3. Step 3 착수 전 Confluence 권한/범위 확정

---

## 변경 관리 원칙

- 코드 동작이 바뀌면 본 계획의 체크 상태를 즉시 갱신
- 완료 항목은 체크만 하지 않고 관련 문서 링크를 함께 유지
- 우선순위 변경 시 "현재 우선순위" 섹션을 먼저 업데이트
